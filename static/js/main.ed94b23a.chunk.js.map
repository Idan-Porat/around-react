{"version":3,"sources":["contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","utils/FormValidator.js","utils/Constants.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Footer.js","utils/api.js","components/DeletePhotoPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","className","src","headerLogo","alt","Card","props","cardClickHandler","onCardDelete","card","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","style","backgroundImage","link","name","length","Main","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","onDeleteImagePopupOpen","cards","avatar","about","id","map","FormValidator","config","formElement","_showInputError","inputElement","errorMessage","_config","errorClass","errorInputSelector","errorElement","_formElement","querySelector","textContent","classList","add","_hideInputError","inputErrorClass","remove","_checkInputValidity","validity","valid","validationMessage","_hasInvalidInput","_inputList","_toggleButtonState","inactiveButtonClass","submitButtonSelector","_buttonElement","disabled","_setEventListeners","inputSelector","Array","from","querySelectorAll","forEach","addEventListener","resetValidation","input","this","evt","preventDefault","popupConfig","formSelector","inputSelectorSet","imageModalWindow","editModalWindow","addPhotoModalWindow","editAvatarModalWindow","deleteCardModalWindow","elementsContainer","PopupWithForm","isOpen","onClose","title","btnSubmitTitle","children","validate","onSubmit","useState","form","setForm","formRef","useRef","buttonRef","useEffect","validatedForm","current","enableValidation","ref","e","EditProfilePopup","updateCurrentUser","setName","description","setDescription","placeholder","value","required","minLength","maxLength","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarUrlInput","AddPlacePopup","addNewPhoto","setLink","ImagePopup","cardObj","Footer","Api","baseURL","headers","getInitialCards","fetch","_baseURL","_headers","then","res","_getResponseData","getUserInfo","createNewCard","data","method","body","JSON","stringify","deleteCard","cardId","setUserInfo","setUserImage","likeCard","unLikeCard","ok","json","Promise","reject","status","api","authorization","DeletePhotoPopup","App","setCards","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImageModalOpen","setImageModalOpen","selectedCard","setSelectedCard","isDeleteImagePopupOpen","setIsDeleteImagePopupOpen","catch","error","console","log","a","callData","handleDeleteCard","filter","closeAllPopups","handleUpdateUser","handleUpdateAvatar","handleAddPlaceSubmit","Cards","concat","Provider","onCloseAllPopups","newSelectedCard","cardData","newCard","state","c","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ed94b23a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/logo.c7581985.svg\";","import React from 'react';\r\nimport headerLogo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img src={headerLogo} alt=\"header-logo\" className=\"header__logo\" />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nfunction Card(props) {\r\n\r\n    const { cardClickHandler, onCardDelete, card, onCardLike} = props;\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    // Creating a variable which you'll then set in `className` for the delete button\r\n    const cardDeleteButtonClassName = (\r\n        `elements__delete-button ${isOwn ? 'elements__delete-button_active' : 'elements__delete-button_hidden'}`\r\n    );\r\n\r\n    // Check if the card was liked by the current user\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Create a variable which you then set in `className` for the like button\r\n    const cardLikeButtonClassName = `elements__like-button ${isLiked ? 'elements__like-button_active' : 'elements__like-button_hidden'}`;\r\n\r\n    return (\r\n        <li className=\"elements__card\">\r\n            {isOwn && (\r\n            <button type=\"button\" onClick={() => onCardDelete(card)} className={`${cardDeleteButtonClassName}`} aria-label=\"delete button\"></button>\r\n            )}\r\n            <div className=\"elements__pic\" onClick={() => cardClickHandler(card)} style={{ backgroundImage: `url(${card.link})` }} alt={card.name}></div>\r\n            <div className=\"elements__inner-container\">\r\n                <h2 className=\"elements__title\">{card.name}</h2>\r\n                <div className=\"elements__likes-container\">\r\n                    <button onClick={() => onCardLike(card)} type=\"button\" className={`${cardLikeButtonClassName}`} aria-label=\"like button\"></button>\r\n                    <p className=\"element__like-counter\">\r\n                        {card.likes.length}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Card;\r\n\r\n","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\n\r\n\r\nfunction Main(props) {\r\n\r\n  const { onEditAvatarClick, onEditProfileClick, onAddPlaceClick,\r\n    onDeleteImagePopupOpen, cardClickHandler, cards, onCardLike } = props;\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"avatar\">\r\n          <div className=\"avatar__image\" style={{ backgroundImage: `url(${currentUser.avatar})` }}></div>\r\n          <button onClick={onEditAvatarClick} type=\"button\" className=\"avatar__edit\"></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__full-name\">{currentUser.name}</h1>\r\n          <p className=\"profile__career\">{currentUser.about}</p>\r\n          <button onClick={onEditProfileClick} type=\"button\" className=\"profile__button\" id=\"editButton\"></button>\r\n        </div>\r\n        <button onClick={onAddPlaceClick} type=\"button\" className=\"profile__rectangle\" id=\"addPhoto\"></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__container\">\r\n          {\r\n            cards.map(card => (\r\n              <Card onCardDelete={onDeleteImagePopupOpen} onCardLike={onCardLike} card={card} key={card._id} cardClickHandler={cardClickHandler} onDeleteImagePopupOpen={onDeleteImagePopupOpen} />\r\n            ))\r\n          }\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","class FormValidator {\r\n\r\n    constructor(config, formElement) {\r\n        this._config = config;\r\n        this._formElement = formElement;\r\n    }\r\n\r\n    _showInputError = (inputElement, errorMessage) => {\r\n        const { errorClass, errorInputSelector } = this._config;\r\n        const errorElement = this._formElement.querySelector(`.${inputElement.id}-error`);\r\n\r\n        errorElement.textContent = errorMessage;\r\n        errorElement.classList.add(errorClass);\r\n        inputElement.classList.add(errorInputSelector);\r\n    };\r\n\r\n\r\n\r\n    _hideInputError = (inputElement) => {\r\n        const { inputErrorClass, errorClass, errorInputSelector } = this._config;\r\n        const errorElement = this._formElement.querySelector(`.${inputElement.id}-error`);\r\n\r\n        errorElement.classList.remove(errorClass);\r\n        inputElement.classList.remove(errorInputSelector);\r\n        errorElement.textContent = \"\";\r\n    };\r\n\r\n\r\n\r\n    _checkInputValidity = (inputElement) => {\r\n        if (!inputElement.validity.valid) {\r\n            this._showInputError(inputElement, inputElement.validationMessage);\r\n        } else {\r\n            this._hideInputError(inputElement);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    _hasInvalidInput = () => {\r\n        return this._inputList.some((inputElement) => {\r\n            return !inputElement.validity.valid;\r\n        });\r\n    };\r\n\r\n\r\n\r\n    _toggleButtonState = () => {\r\n        const { inactiveButtonClass, submitButtonSelector } = this._config;\r\n        this._buttonElement = this._formElement.querySelector(submitButtonSelector);\r\n        if (this._hasInvalidInput()) {\r\n            this._buttonElement.disabled = true;\r\n            this._buttonElement.classList.add(inactiveButtonClass);\r\n        } else {\r\n            this._buttonElement.classList.remove(inactiveButtonClass);\r\n            this._buttonElement.disabled = false;\r\n        }\r\n    };\r\n\r\n\r\n\r\n    _setEventListeners = () => {\r\n        const { inputSelector } = this._config;\r\n        this._inputList = Array.from(this._formElement.querySelectorAll(inputSelector));\r\n        this._toggleButtonState();\r\n        this._inputList.forEach((inputElement) => {\r\n            inputElement.addEventListener(\"input\", () => {\r\n                this._checkInputValidity(inputElement);\r\n                this._toggleButtonState();\r\n            });\r\n        });\r\n    };\r\n\r\n\r\n\r\n    enableValidation() {\r\n        this._formElement.addEventListener(\"submit\", function (evt) {\r\n            evt.preventDefault();\r\n        });\r\n        this._setEventListeners();\r\n    };\r\n\r\n\r\n\r\n    resetValidation = () => {\r\n        const inputArray = Array.from(this._inputList);\r\n        this._toggleButtonState();\r\n        this._inputList.forEach((input) => {\r\n            this._hideInputError(input);\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default FormValidator;","export const popupConfig = { \r\n    formSelector: \".popup\", \r\n    inputSelectorSet: \".popup__set\", \r\n    inputSelector: \".popup__item\", \r\n    submitButtonSelector: \".popup__submit-button\", \r\n    inactiveButtonClass: \"popup__submit-button_disabled\", \r\n    inputErrorClass: \"popup__item-error\", \r\n    errorClass: \"popup__item-error_active\", \r\n    errorInputSelector: \"popup__item_theme_red\", \r\n    imageModalWindow: '.popup_theme_open-photo', \r\n    editModalWindow:'.popup_theme_edit', \r\n    addPhotoModalWindow:'.popup_theme_add-photo', \r\n    editAvatarModalWindow:'.popup_theme_edit-avatar', \r\n    deleteCardModalWindow:'.popup_theme_delete-photo', \r\n    elementsContainer: \".elements__container\", \r\n}; \r\n\r\nexport const profileConfig = { \r\n    profileTitle: '.profile__full-name', \r\n    profileDescription: '.profile__career', \r\n    avatarImage:'.avatar__image', \r\n}; ","import React from 'react';\r\nimport FormValidator from '../utils/FormValidator';\r\nimport { popupConfig } from '../utils/Constants.js';\r\n\r\nfunction PopupWithForm(props) {\r\n    const { name, isOpen, onClose, title, btnSubmitTitle, children, validate, onSubmit } = props;\r\n\r\n\r\n    const [form, setForm] = React.useState();\r\n    const formRef = React.useRef();\r\n    const buttonRef = React.useRef();\r\n\r\n    React.useEffect(() => {\r\n        if (validate) {\r\n            const validatedForm = new FormValidator(popupConfig, formRef.current);\r\n            validatedForm.enableValidation();\r\n            setForm(validatedForm);\r\n        } else { }\r\n    }, [validate]);\r\n\r\n    React.useEffect(() => {\r\n        if (form && isOpen) {\r\n            form.resetValidation()\r\n        };\r\n    }, [isOpen, form]);\r\n\r\n\r\n    return (\r\n        <div className={`popup popup_theme_${name} ${isOpen && 'popup_open'}`}>\r\n            <div className=\"popup__container popup__container_theme_edit\">\r\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose} aria-label=\"close button\"></button>\r\n                <form className=\"popup__input-container\" name=\"form\" ref={formRef} onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    onSubmit(e);\r\n                }}>\r\n                    <fieldset className=\"popup__set\">\r\n                        <h2 className=\"popup__header\">{title}</h2>\r\n                        {children}\r\n                        <button ref={buttonRef} className={`popup__submit-button ${(btnSubmitTitle !== \"Yes\") ? \"popup__submit-button_disabled\" : \"\"}`} type=\"submit\"\r\n                            aria-label=\"sumbit button\">{btnSubmitTitle}</button>\r\n                    </fieldset>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const { isOpen, onClose, updateCurrentUser } = props;\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    // Subscription to the context\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    // After loading the current user from the API\r\n    // their data will be used in managed components.\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, isOpen]);\r\n\r\n    function handleSubmit(e) {\r\n        // Prevent the browser from navigating to the form address\r\n        e.preventDefault();\r\n        \r\n        // Pass the values of the managed components to the external handler\r\n        updateCurrentUser({\r\n          name: name,\r\n          about: description,\r\n        });\r\n      } \r\n     \r\n    return (\r\n        <PopupWithForm name=\"edit\" title=\"Edit Profile\" btnSubmitTitle=\"Save\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} validate={true}>\r\n            <label className=\"popup__field\">\r\n                <input placeholder=\"Name\" id=\"name-input\" className=\"popup__item popup__item_type_name\" name=\"fullName\" value={name || \"\"}\r\n                    type=\"text\" required minLength=\"2\" maxLength=\"40\" onChange={(e) => setName(e.target.value)} />\r\n                <span className=\"popup__item-error name-input-error\"></span>\r\n            </label>\r\n            <label className=\"popup__field\">\r\n                <input placeholder=\"About Me\" id=\"about-input\" className=\"popup__item popup__item_type_career\"\r\n                    name=\"career\" value={description || \"\"} type=\"text\" required minLength=\"2\" maxLength=\"200\" onChange={(e) => setDescription(e.target.value)} />\r\n                <span className=\"popup__item-error about-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const { isOpen, onClose, onUpdateAvatar } = props;\r\n\r\n    // Subscription to the context\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const avatarUrlInput = React.useRef();\r\n    // After loading the current user from the API\r\n    // their data will be used in managed components.\r\n    React.useEffect(() => {\r\n        if (isOpen)\r\n            avatarUrlInput.current.value = currentUser.avatar;\r\n    }, [currentUser, isOpen]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateAvatar({\r\n            avatar: avatarUrlInput.current.value,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"edit-avatar\" title=\"Change profile picture\" btnSubmitTitle=\"Save\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} validate={true}>\r\n            <label className=\"popup__field\">\r\n                <input ref={avatarUrlInput} placeholder=\"Image link\" id=\"avatar-input\" className=\"popup__item popup__item_type_avatar\"\r\n                    name=\"image\" type=\"url\" required />\r\n                <span className=\"popup__item-error avatar-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n    const { isOpen, onClose, addNewPhoto } = props;\r\n    const [name, setName] = React.useState(\"\");\r\n    const [link, setLink] = React.useState(\"\");\r\n\r\n    React.useEffect(() => {\r\n        if (isOpen) {\r\n            setName(\"\");\r\n            setLink(\"\");\r\n        }\r\n    }, [isOpen]);\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        addNewPhoto({ name, link });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"add-photo\" title=\"New place\" btnSubmitTitle=\"Create\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} validate={true}>\r\n            <label className=\"popup__field\">\r\n                <input placeholder=\"Title\" id=\"title-input\" value={name} className=\"popup__item popup__item_type_photo-title\"\r\n                    name=\"title\" type=\"text\" minLength=\"1\" maxLength=\"30\" onChange={(e) => setName(e.target.value)} required />\r\n                <span className=\"popup__item-error title-input-error\"></span>\r\n            </label>\r\n            <label className=\"popup__field\">\r\n                <input placeholder=\"Image link\" id=\"url-input\" value={link} className=\"popup__item popup__item_type_url\"\r\n                    name=\"link\" type=\"url\" onChange={(e) => setLink(e.target.value)} required />\r\n                <span className=\"popup__item-error url-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n    const { onClose, isOpen, cardObj } = props;\r\n    return (\r\n        <div className={`popup popup_theme_open-photo ${isOpen && 'popup_open'}`}>\r\n            <div className=\"popup__container popup__container_theme_open-photo\">\r\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose} aria-label=\"close button\"></button>\r\n                <figure>\r\n                    <img className=\"popup__open-image\" alt={!cardObj ? null : cardObj.name} src={cardObj.link} />\r\n                    <figcaption className=\"popup__open-image-caption\">{cardObj.name}</figcaption>\r\n                </figure>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n          <p className=\"footer__copyrights\">Â© 2021 Idan Porat</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import react from \"react\";\r\n\r\nclass Api {\r\n\r\n    constructor({ baseURL, headers }) {\r\n        this._baseURL = baseURL;\r\n        this._headers = headers;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Error: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n\r\n    getInitialCards = () => {\r\n        return fetch(`${this._baseURL}/cards`, {\r\n            headers: this._headers\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n\r\n    getUserInfo = () => {\r\n        return fetch(`${this._baseURL}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n\r\n    createNewCard = (data) => {\r\n        return fetch(`${this._baseURL}/cards`, {\r\n            headers: this._headers,\r\n            method: 'POST',\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n\r\n    deleteCard = (cardId) => {\r\n        return fetch(`${this._baseURL}/cards/${cardId}`, {\r\n            headers: this._headers,\r\n            method: 'DELETE'\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n\r\n    setUserInfo = ({ name, about }) => {\r\n        return fetch(`${this._baseURL}/users/me`, {\r\n            headers: this._headers,\r\n            method: 'PATCH',\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n\r\n    setUserImage = (avatar) => {\r\n        return fetch(`${this._baseURL}/users/me/avatar`, {\r\n            headers: this._headers,\r\n            method: 'PATCH',\r\n            body: JSON.stringify({\r\n                avatar: avatar\r\n            })\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n\r\n    likeCard = (cardId) => {\r\n        return fetch(`${this._baseURL}/cards/likes/${cardId}`, {\r\n            headers: this._headers,\r\n            method: 'PUT'\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n\r\n    unLikeCard = (cardId) => {\r\n        return fetch(`${this._baseURL}/cards/likes/${cardId}`, {\r\n            headers: this._headers,\r\n            method: 'DELETE'\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n}\r\n\r\nexport const api = new Api({\r\n    baseURL: \"https://around.nomoreparties.co/v1/group-12\",\r\n    headers: {\r\n        authorization: \"001651b9-e63d-4f3d-8d65-ab968b3111ee\",\r\n        \"Content-Type\": \"application/json\"\r\n    }\r\n});\r\n\r\nexport default Api;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction DeletePhotoPopup(props) {\r\n\r\n    const { isOpen, onClose, deleteCard } = props;\r\n    const onDelete = () => {\r\n        return deleteCard();\r\n    };\r\n\r\n    return (\r\n        <PopupWithForm name=\"delete-photo\" title=\"Are you sure?\" btnSubmitTitle=\"Yes\" isOpen={isOpen} onClose={onClose} onSubmit={onDelete}\r\n            validate={false}>\r\n        </PopupWithForm>\r\n    );\r\n};\r\nexport default DeletePhotoPopup;\r\n\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport ImagePopup from './ImagePopup';\r\nimport Footer from './Footer';\r\nimport { api } from '../utils/api.js';\r\nimport DeletePhotoPopup from './DeletePhotoPopup';\r\nfunction App() {\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  // Edit profile popup state.\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n\r\n  // Add new image popup state.\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n\r\n  // Edit avatar image popup state.\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n\r\n  // Popup image state.\r\n  const [isImageModalOpen, setImageModalOpen] = React.useState(false);\r\n\r\n  // The link and name of the popup image.\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n\r\n  // Delete image from the gallery popup state.\r\n  const [isDeleteImagePopupOpen, setIsDeleteImagePopupOpen] = React.useState(false);\r\n\r\n\r\n  const handleCardLike = (card) => {\r\n    // Check one more time if this card was already liked\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Send a request to the API and getting the updated card data\r\n    if (isLiked) {\r\n      api.unLikeCard(card._id, !isLiked).then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      }).catch((error) => console.log(error));\r\n    } else {\r\n      api.likeCard(card._id, !isLiked).then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      }).catch((error) => console.log(error));\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n      .then(res => {\r\n        setCards(res)\r\n      }).catch((error) => console.log(error))\r\n  }, [])\r\n\r\n  const getUserInfo = async () => {\r\n    try {\r\n      const callData = await api.getUserInfo();\r\n      callData && setCurrentUser(callData);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  React.useEffect(() => {\r\n    getUserInfo();\r\n  }, []);\r\n\r\n\r\n  const handleDeleteCard = async () => {\r\n    const id = selectedCard._id;\r\n    try {\r\n      await api.deleteCard(id);\r\n      setCards(cards.filter((card) => card._id !== id))\r\n      closeAllPopups();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteImageClick = (newSelectedCard) => {\r\n    setSelectedCard(newSelectedCard)\r\n    setIsDeleteImagePopupOpen(true) // state that toggles modal.\r\n  }\r\n\r\n  const handleCardClick = (newSelectedCard) => {\r\n    setSelectedCard(newSelectedCard)\r\n    setImageModalOpen(true) // state that toggles modal. \r\n  }\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n  }\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen)\r\n  }\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen)\r\n  }\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditProfilePopupOpen(false)\r\n    setIsAddPlacePopupOpen(false)\r\n    setIsEditAvatarPopupOpen(false)\r\n    setIsDeleteImagePopupOpen(false)\r\n    setImageModalOpen(false);\r\n  }\r\n\r\n  const handleUpdateUser = async (data) => {\r\n    try {\r\n      return api\r\n        .setUserInfo(data)\r\n        .then((res) => {\r\n          setCurrentUser(res)\r\n          closeAllPopups();\r\n        })\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleUpdateAvatar = async (data) => {\r\n    try {\r\n      return await api\r\n        .setUserImage(data.avatar).then(res => {\r\n          setCurrentUser(res)\r\n          closeAllPopups();\r\n        })\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n\r\n  const handleAddPlaceSubmit = async (card) => {\r\n    try {\r\n      await api.createNewCard(card).then((res) => {\r\n        setCards((Cards) => {\r\n          return [res].concat(Cards)\r\n        })\r\n        closeAllPopups();\r\n      })\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"root\">\r\n        <div className=\"root__wrapper\">\r\n          <Header />\r\n          <Main onEditProfileClick={handleEditProfileClick}\r\n            onAddPlaceClick={handleAddPlaceClick}\r\n            onEditAvatarClick={handleEditAvatarClick}\r\n            onCloseAllPopups={closeAllPopups}\r\n            cardClickHandler={handleCardClick}\r\n            onDeleteImagePopupOpen={handleDeleteImageClick}\r\n            cards={cards}\r\n            isEditAvatarPopupOpen={isEditAvatarPopupOpen}\r\n            isAddPlacePopupOpen={isAddPlacePopupOpen}\r\n            isEditProfilePopupOpen={isEditProfilePopupOpen}\r\n            isImageModalOpen={isImageModalOpen}\r\n            isDeleteImagePopupOpen={isDeleteImagePopupOpen}\r\n            cardData={selectedCard}\r\n            onCardLike={handleCardLike}\r\n          />\r\n          <Footer />\r\n        </div>\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          updateCurrentUser={handleUpdateUser} />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar} />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          addNewPhoto={handleAddPlaceSubmit} />\r\n        <DeletePhotoPopup\r\n          isOpen={isDeleteImagePopupOpen}\r\n          onClose={closeAllPopups}\r\n          deleteCard={handleDeleteCard} />\r\n        <ImagePopup isOpen={isImageModalOpen} cardObj={selectedCard} onClose={closeAllPopups} />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals.js';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}